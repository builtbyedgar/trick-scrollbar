/*!
 * trick-scrollbar v1.0.0
 * (c) 2019 Edgar Bermejo
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.TrickScrollbar=e()}(this,function(){"use strict";function t(t){this.scroller=t,this.wrapper,this.scrollbarY,this.thumbY,this.thumbX,this.childrenWidth=0,this.draggingX=!1,this.draggingY=!1,this.assembleDOM(),this.chechChildrenWidth(),this.appendThumbX(),this.appendThumbY(),this.resizeScrollbarX(),this.resizeScrollbarY(),this.addEventListeners()}var l=void 0;t.prototype.handleScroll=function(){var t=this,e=this.scroller.scrollLeft/this.scroller.scrollWidth*100,i=this.scroller.scrollTop/this.scroller.scrollHeight*100;window.requestAnimationFrame(function(){t.thumbX&&t.moveScrollbarX(e),t.thumbY&&t.moveScrollbarY(i)})},t.prototype.moveScrollbarX=function(t){this.thumbX.style.left=t+"%"},t.prototype.moveScrollbarY=function(t){this.thumbY.style.top=t+"%"},t.prototype.resize=function(){this.handleScroll(),this.thumbX&&this.resizeScrollbarX(),this.thumbY&&this.resizeScrollbarY()},t.prototype.resizeScrollbarX=function(){var t=this.wrapper.offsetWidth/this.scroller.scrollWidth,e=this.wrapper.offsetWidth*t;this.thumbX.style.width=e+"px",this.childrenWidth<=this.scroller.offsetWidth&&this.scrollbarX?this.scrollbarX.style.display="none":this.scrollbarX.style.display="inherit"},t.prototype.resizeScrollbarY=function(){var t=this.wrapper.offsetHeight/this.scroller.scrollHeight,e=this.wrapper.offsetHeight*t;this.thumbY.style.height=e+"px",this.scroller.scrollHeight<=this.wrapper.offsetHeight?this.scrollbarY.style.display="none":this.scrollbarY.style.display="inherit"},t.prototype.onThumbXMouseDown=function(){this.draggingX=!0,this.wrapper.classList.add("dragging");var t=this.thumbX.style.left?this.thumbX.style.left:"0%",e=parseFloat(t.slice(0,-1))/100,i=this.wrapper.offsetWidth*e,s=(event.clientX||0===event.clientX?event.clientX:event.touches[0].clientX)-i;window.addEventListener("mousemove",this.onThumbXDragStart.bind(this,s)),window.addEventListener("touchmove",this.onThumbXDragStart.bind(this,s)),event.stopPropagation()},t.prototype.onThumbYMouseDown=function(){this.draggingY=!0,this.wrapper.classList.add("dragging");var t=this.thumbY.style.top?this.thumbY.style.top:"0%",e=parseFloat(t.slice(0,-1))/100,i=this.wrapper.offsetHeight*e,s=(event.clientY||0===event.clientY?event.clientY:event.touches[0].clientY)-i;window.addEventListener("mousemove",this.onThumbYDragStart.bind(this,s)),window.addEventListener("touchmove",this.onThumbYDragStart.bind(this,s)),event.stopPropagation()},t.prototype.onThumbXDragStart=function(t,e){if(this.draggingX){var i=(e.clientX-t)/this.wrapper.offsetWidth,s=this.scroller.scrollWidth*i;this.scroller.scrollLeft=s}},t.prototype.onThumbYDragStart=function(t,e){if(this.draggingY){var i=(e.clientY-t)/this.wrapper.offsetHeight,s=this.scroller.scrollHeight*i;this.scroller.scrollTop=s}},t.prototype.onThumbDragStop=function(){this.draggingX=!1,this.draggingY=!1,this.wrapper.classList.remove("dragging"),window.removeEventListener("mousemove",this.onThumbXDragStart.bind(this)),window.removeEventListener("mousemove",this.onThumbYDragStart.bind(this))},t.prototype.assembleDOM=function(){var t=this.scroller.parentNode;this.wrapper=document.createElement("div"),this.wrapper.classList.add("ts-scroll-content"),this.scroller.classList.add("ts-scroller"),t.appendChild(this.wrapper),this.wrapper.appendChild(this.scroller)},t.prototype.appendThumbY=function(){this.scrollbarY=document.createElement("div"),this.thumbY=document.createElement("div"),this.scrollbarY.classList.add("ts-scrollbar-y"),this.thumbY.classList.add("ts-thumb-y"),this.scrollbarY.appendChild(this.thumbY),this.wrapper.appendChild(this.scrollbarY)},t.prototype.appendThumbX=function(){this.childrenWidth>this.scroller.offsetWidth&&(this.scrollbarX=document.createElement("div"),this.scrollbarX.classList.add("ts-scrollbar-x"),this.thumbX=document.createElement("div"),this.thumbX.classList.add("ts-thumb-x"),this.scrollbarX.appendChild(this.thumbX),this.wrapper.appendChild(this.scrollbarX))},t.prototype.chechChildrenWidth=function(){var e=this;Array.from(this.scroller.children).forEach(function(t){e.childrenWidth<=t.offsetWidth&&(e.childrenWidth=t.offsetWidth)})},t.prototype.addEventListeners=function(){this.scroller.addEventListener("scroll",this.handleScroll.bind(this)),this.thumbX&&this.thumbX.addEventListener("mousedown",this.onThumbXMouseDown.bind(this)),this.thumbY&&this.thumbY.addEventListener("mousedown",this.onThumbYMouseDown.bind(this)),window.addEventListener("mouseup",this.onThumbDragStop.bind(this)),this.thumbX&&this.thumbX.addEventListener("touchstart",this.onThumbXMouseDown.bind(this)),this.thumbY&&this.thumbY.addEventListener("touchstart",this.onThumbYMouseDown.bind(this)),window.addEventListener("touchend",this.onThumbDragStop.bind(this)),window.addEventListener("resize",e(this.resize.bind(this),250),!1)};var e=function(r,h,o){var n;return void 0===h&&(h=0),void 0===o&&(o={}),function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i="inmediate"in o?!!o.inmediate:o.inmediate,s=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||r.apply(l,t)},h),s&&r.apply(l,t)}};return t});