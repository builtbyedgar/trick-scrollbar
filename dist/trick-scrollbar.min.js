/*!
 * trick-scrollbar v1.0.0
 * (c) 2019 Edgar Bermejo
 * @license MIT
 */
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):t.TrickScrollbar=s()}(this,function(){"use strict";function t(t){this.scroller=t,this.wrapper,this.scrollbarY,this.thumbY,this.thumbX,this.lastX,this.lastY,this.dragging=!1,this.assembleDOM(),this.resizeScrollbar(),this.addEventListeners()}var n=void 0;t.prototype.handleScroll=function(){var t=this;this.lastX=this.scroller.scrollLeft/this.scroller.scrollWidth*100,this.lastY=this.scroller.scrollTop/this.scroller.scrollHeight*100,window.requestAnimationFrame(function(){t.moveScrollbar(t.lastY)})},t.prototype.moveScrollbar=function(t){this.thumbY.style.top=t+"%"},t.prototype.resize=function(){this.resizeScrollbar()},t.prototype.resizeScrollbar=function(){var t=this.wrapper.offsetWidth/this.scroller.scrollWidth,s=this.wrapper.offsetHeight*t,e=this.wrapper.offsetHeight/this.scroller.scrollHeight,i=this.wrapper.offsetHeight*e;this.thumbX.style.width=s+"px",this.thumbY.style.height=i+"px",this.scroller.scrollHeight<=this.wrapper.offsetHeight?(this.scrollbarX.style.display="none",this.scrollbarY.style.display="none"):(this.scrollbarX.style.display="inherit",this.scrollbarY.style.display="inherit")},t.prototype.onThumbMouseDown=function(){this.dragging=!0,this.wrapper.classList.add("dragging");var t=this.thumbY.style.top?this.thumbY.style.top:"0%",s=parseFloat(t.slice(0,-1))/100,e=this.wrapper.offsetHeight*s,i=(event.clientY||0===event.clientY?event.clientY:event.touches[0].clientY)-e;window.addEventListener("mousemove",this.onThumbDragStart.bind(this,i)),window.addEventListener("touchmove",this.onThumbDragStart.bind(this,i)),event.stopPropagation()},t.prototype.onThumbDragStart=function(t,s){if(this.dragging){var e=(s.clientY-t)/this.wrapper.offsetHeight,i=this.scroller.scrollHeight*e;this.scroller.scrollTop=i}},t.prototype.onThumbDragStop=function(){this.dragging=!1,this.wrapper.classList.remove("dragging"),window.removeEventListener("mousemove",this.onThumbDragStart.bind(this))},t.prototype.onScrollbarClick=function(t){var s=this,e=parseFloat(this.thumbY.style.height.slice(0,-2)),i=(t.clientY-e/2)/this.scroller.offsetHeight,r=(this.scroller.scrollHeight*i-this.scroller.scrollTop)/12,o=0,l=function(){setTimeout(function(){s.scroller.scrollTop+=r,(o+=1)<12&&l()},16)};l()},t.prototype.assembleDOM=function(){var t=this.scroller.parentNode;this.wrapper=document.createElement("div"),this.scrollbarY=document.createElement("div"),this.thumbY=document.createElement("div"),this.wrapper.classList.add("ts-scroll-content"),this.scroller.classList.add("ts-scroller"),this.scrollbarY.classList.add("ts-scrollbar-y"),this.thumbY.classList.add("ts-thumb-y"),t.appendChild(this.wrapper),this.wrapper.appendChild(this.scroller),this.scrollbarY.appendChild(this.thumbY),this.wrapper.appendChild(this.scrollbarY),this.chechChildrenWidth()>this.scroller.offsetWidth&&(this.scrollbarX=document.createElement("div"),this.scrollbarX.classList.add("ts-scrollbar-x"),this.thumbX=document.createElement("div"),this.thumbX.classList.add("ts-thumb-x"),this.scrollbarX.appendChild(this.thumbX),this.wrapper.appendChild(this.scrollbarX),console.log("Needs horizontal scroll"))},t.prototype.chechChildrenWidth=function(){var s=0;return Array.from(this.scroller.children).forEach(function(t){s<=t.offsetWidth&&(s=t.offsetWidth)}),s},t.prototype.addEventListeners=function(){this.scroller.addEventListener("scroll",this.handleScroll.bind(this)),this.thumbY.addEventListener("mousedown",this.onThumbMouseDown.bind(this)),window.addEventListener("mouseup",this.onThumbDragStop.bind(this)),this.thumbY.addEventListener("touchstart",this.onThumbMouseDown.bind(this)),window.addEventListener("touchend",this.onThumbDragStop.bind(this)),this.scrollbarY.addEventListener("click",this.onScrollbarClick.bind(this)),window.addEventListener("resize",s(this.resize.bind(this),250),!1)};var s=function(r,o,l){var h;return void 0===o&&(o=0),void 0===l&&(l={}),function(){for(var t=[],s=arguments.length;s--;)t[s]=arguments[s];var e="inmediate"in l?!!l.inmediate:l.inmediate,i=e&&!h;clearTimeout(h),h=setTimeout(function(){h=null,e||r.apply(n,t)},o),i&&r.apply(n,t)}};return t});